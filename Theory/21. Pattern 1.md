---
title : "ğŸ§© ë°ì´í„°ë§ˆì´ë‹ (21) - íŒ¨í„´ë¶„ì„_1 : Preview"

categories:
    - Data_mining
tags:
    - [Pandas, Data, Data Mining, Pattern, itemset, support]

toc : true
toc_sticky : true 
use_math : true  

date: 2022-08-10
last_modified_at: 2022-08-10 
---  
* * *  

ğŸ§© ì´ë²ˆ í¬ìŠ¤íŒ…ë¶€í„°ëŠ” Datasetì—ì„œ Patternì„ ì°¾ëŠ” <a>Pattern Discovery</a> ì— ëŒ€í•´ì„œ ë‹¤ë£° ê²ƒì´ë‹¤. íŠ¹íˆ ì´ ë¶€ë¶„ì€ ìƒëª…ì •ë³´í•™ ë¶„ì•¼ì— ìˆì–´ì„œ ê½¤ë‚˜ í° ë¹„ì¤‘ì„ ì°¨ì§€í•˜ê³ , ë°ì´í„°ë§ˆì´ë‹ì— ê´€ë ¨ëœ ì¤‘ìš”í•œ ê¸°ë²• ì—­ì‹œ ë§ì´ ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ì£¼ì˜ê¹Šê²Œ ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ (ë‹¹ì—°íˆ ì–‘ë„ ë§ë‹¤...ğŸ˜¨ğŸ˜¨).  

ğŸ§© ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” Pattern Discoveryì— ê´€ë ¨ëœ ê¸°ì´ˆ ê°œë…ì„ ì•Œì•„ë³´ë„ë¡ í•˜ì.  

* * *  
## 1. Pattern Doscovery ë€??  

- <a>Patterns</a> : í•˜ë‚˜ì˜ datasetì—ì„œ í•¨ê»˜ ë°œìƒí•˜ê±°ë‚˜ ì—°ê´€ê´€ê³„ê°€ ê¹Šì€ ê²ƒë“¤.<br>  
    - ex) í•¨ê»˜ íŒ”ë¦° ë¬¼ê±´ë“¤ / ê°™ì´ ë‚˜íƒ€ë‚˜ëŠ” ë‹¨ì–´ë“¤ / í•¨ê»˜ ë‚˜íƒ€ë‚˜ëŠ” sequence<br>  

- <a>Pattern Doscovery</a> : datasetì—ì„œ <a>inherent reqularities</a>ë¥¼ ì°¾ëŠ” ê²ƒ. ì¦‰, <a>ê³ ìœ í•œ ê·œì¹™</a>ì„ ì°¾ëŠ” ê²ƒ.<br>  

- ë°ì´í„°ë§ˆì´ë‹ì„ ìœ„í•œ ê¸°ì´ˆ ì‘ì—…ì´ë¼ê³  í•  ìˆ˜ ìˆìŒ.<br>  
    - Association / Correlation / Casuality analysis  
    - Mining Sequential / Structure Patterns  
    - íŒ¨í„´ë¶„ì„ : ì‹œê³µê°„ / ë©€í‹°ë¯¸ë””ì–´ / ì‹œê³„ì—´ / ìŠ¤íŠ¸ë¦¼ë°ì´í„°  
    - <a>Classification</a> : pattern based analysis - Discriminative  
    - <a>Cluster analysis</a> : pattern based clustering - subspace<br>  

- ì ìš©ê°€ëŠ¥í•œ ë¶„ì•¼ : Market basket / Cross marketing / Catalog design / <a>Biological Sequence</a><br>  

ğŸ§© ì´ë ‡ê²Œ í•´ì„œ Pattern Discoveryì˜ ê°œë…ì— ëŒ€í•´ì„œ ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ì•˜ë‹¤. ì´ì œëŠ” ê¸°ë³¸ì ì¸ ìš©ì–´ë“¤ì„ ì‚´í´ë³´ë„ë¡ í•˜ì.<br>  

## 2. Pattern Doscovery ê¸°ì´ˆ  

### ğŸš© 2.1. K-itemsets and Support  

- <a>itemset</a> : í•˜ë‚˜ ì´ìƒ itemsetì˜ set  
- <a>K-itemset</a> : Kê°œë¡œ êµ¬ì„±ëœ itemset<br>  

- <a>absolute-support</a><br>  

    - <b>sup{X}</b>.   
    - itemset Xì˜ ì¶œí˜„ë¹ˆë„. ì–¼ë§ˆë‚˜ ë§ì´ ë“±ì¥í–ˆëŠ”ê°€.  
    - Frequency<br>  

- <a>relative-support</a><br>  
    - <b>s{X}</b>.  
    - itemset Xë¥¼ í¬í•¨í•œ transactionì˜ ë¹„ìœ¨.  
    - $\frac{Sup}{total\;transaction}$<br>  

ğŸ§© ì •ë¦¬í•´ë³´ë©´ <a>absolute-support</a> ëŠ” itemset Xì˜ <a>ë¹ˆë„</a>ë¥¼ ë‚˜íƒ€ë‚´ê³ , <a>relative-suppor</a> ëŠ” itemset Xì˜ <a>ë¹„ìœ¨</a>ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì € ì„¤ëª…ë§Œ ë³´ê³  ë‘ ê°œë…ì— ëŒ€í•œ ì°¨ì´ê°€ ë°”ë¡œ ëŠê»´ì§€ê¸°ì—ëŠ” ì–´ë ¤ìš¸ ê±°ë¼ ìƒê°í•´ì„œ ìˆ˜ì—…ì‹œê°„ì— ë‹¤ë£¬ ì˜ˆì œë¥¼ í•˜ë‚˜ ê°€ì ¸ì™€ë´¤ë‹¤.<br>  

<p align="center"><img src="https://user-images.githubusercontent.com/65170165/183826511-6b6a3a7b-a6e2-430e-8a6f-5f9537bfe4e6.png" width="700" /></p><br>  

<center>$sup\{Beer\}=3\;\;\;\;,\;\;\;\;s\{Beer\}=3/5=60\%$</center><br>  
<center>$sup\{Diapper\}=4\;\;\;\;,\;\;\;\;s\{Diapper\}=4/5=80\%$</center><br>  
<center>$sup\{Beer,Diapper\}=3\;\;\;\;,\;\;\;\;s\{Beer,Diapper\}=3/5=60\%$</center><br>  
<center>$sup\{Beer,Eggs\}=1\;\;\;\;,\;\;\;\;s\{Beer,Eggs\}=1/5=20%$</center><br>  

ğŸ§© ìœ„ì˜ ì²¨ë¶€í•œ í‘œì™€ ê±‘ì€ ë°ì´í„°ë¥¼ ë§ˆì¼“ì—ì„œ êµ¬ë§¤í•œ ë¬¼í’ˆì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ ë°ì´í„°ë¼ í•´ì„œ <a>Transaction DB</a> ë¼ê³  í•œë‹¤.<br>  

* * *  

### ğŸš© 2.2. Frequent Itemsets (Patterns)  

- <a>minsup</a> : ì„ì˜ë¡œ ì„¤ì •í•œ relative-supportì˜ <a>Thresholds</a><br>  

- ë§Œì•½ itemset X ì˜ relative-support s{X} ê°€ ì„¤ì •í•œ <a>minsup</a> ì´ìƒì´ë©´ XëŠ” <a>Frequent</a>í•˜ë‹¤ê³  í•œë‹¤.  

- ì¦‰, Transaction DBì—ì„œ í•¨ê»˜, ìì£¼ ë‚˜íƒ€ë‚˜ëŠ” K-itemset ì„ ì–´ë–»ê²Œ ì°¾ì•„ë‚¼ ê²ƒì¸ê°€ì— ëŒ€í•œ ê°œë…ì´ë‹¤.<br>  


ğŸ§© ì´ ê°œë… ì—­ì‹œ ì˜ˆì œë¥¼ í•œë²ˆ ì‚´í´ë³´ë„ë¡ í•˜ì!!<br>  

<p align="center"><img src="https://user-images.githubusercontent.com/65170165/183826511-6b6a3a7b-a6e2-430e-8a6f-5f9537bfe4e6.png" width="700" /></p><br>  

<center>$Let\;\,minsup\;\;Ïƒ=50\%$</center><br>  
<center>$s\{Beer\}=60\%\;\;\;,\;\;\;s\{Nuts\}=60\%$</center><br>  
<center>$s\{Diapper\}=80\%\;\;\;,\;\;\;s\{Eggs\}=60\%$</center><br>  
<center>$s\{Milk\}=40\%\;\;\;,\;\;\;s\{Beer,Diapper\}=60\%\;\;\;,\;\;\;s\{Nuts,Diapper\}=40\%$</center><br>  



ğŸ‘‰ ìœ„ì˜ ì˜ˆì‹œì—ì„œ $minsup=50\%$ ì´ìƒì˜ <a>frequent</a> í•œ itemset XëŠ” {Beer} {Nuts} {Diapper} {Eggs} {Beer,Diapper} ì— í•´ë‹¹í•œë‹¤. ë°˜ë©´ {Milk} ëŠ” $40\%$ ë¡œ $minsup$ ë³´ë‹¤ ì‘ê¸° ë•Œë¬¸ì— <a>frequent</a> í•˜ì§€ ì•Šë‹¤. ì—¬ê¸°ì„œ ì£¼ì˜ê¹Šê²Œ ë´ì•¼í•  ì ì´ ìˆëŠ”ë°, 2-itemset {Beer,Diapper} ê°€ frequent í•˜ë‹¤ëŠ” ê²ƒì€ 1-itemset {Beer}{Diapper} ê°ê°ì´ frequentí•˜ë‹¤ëŠ” ê²ƒë„ ì˜ë¯¸í•œë‹¤. ë”°ë¼ì„œ 2-itemsetì˜ frequent ë¥¼ íŒë‹¨í•¨ìœ¼ë¡œì¨ ê° sub itemsetì˜ frequent ì—­ì‹œ íŒë‹¨í•  ìˆ˜ ìˆë‹¤ğŸ™ƒğŸ™ƒ. ìœ„ì˜ ì˜ˆì‹œì—ì„œ 3ê°œì˜ item ì´ ë‘ ê°œ ì´ìƒì˜ transactionì—ì„œ ë‚˜ì˜¤ëŠ” ê²½ìš°ëŠ” ì—†ê¸° ë•Œë¬¸ì— 2-itemsetê¹Œì§€ë§Œ êµ¬í•´ì£¼ì—ˆë‹¤.<br>  

* * *  


### ğŸš© 2.3. Association Rule Mining  

ğŸ§© Association Rule Mining ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ê¸° ì „ì— ì•Œì•„ì•¼ í•  ê°œë…ì´ í•˜ë‚˜ ìˆë‹¤. ì´ ì¹œêµ¬ ë¨¼ì € ìŠ¬ì© ì‚´í´ë³´ê³  ê°€ë„ë¡ í•˜ì.<br>  

* * *

ğŸ“ <b>Support</b><br>  
- transaction ì´ $X\cup{Y}$ ë¥¼ contain í•  í™•ë¥ . ì¦‰, $X,Y$ ë‘ itemsetì„ ëª¨ë‘ í¬í•¨í•  í™•ë¥ .<br>  
- ex) s{Beer,Diapper}=60%<br>  

ğŸ“ <b>Confidence</b><br>  
- conditional probability : $X\cup{Y}$ ì— ëŒ€í•œ ì¡°ê±´ë¶€í™•ë¥ <br>  
- $c=sup(X\cup{Y})/sup(X)$<br>  
- confidence ê³„ì‚°ì„ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” supportëŠ” <a>absolute-support</a>ì„ì— ìœ ì˜.<br>  


- í‘œí˜„ì€ $X\rightarrow{Y}(support,confidence)$ ë¡œ í•œë‹¤.<br>  
    - $X\rightarrow{Y}(s,c) : c=sup(X\cup{Y})/sup(X)$<br>  
    - $Y\rightarrow{X}(s,c) : c=sup(X\cup{Y})/sup(Y)$<br>  
    - $X\rightarrow{Y}(s,c)$ ì—ì„œ í™”ì‚´í‘œì˜ ì‹œì‘ ë¶€ë¶„ì— ìˆëŠ” itemset Xê°€ confidenceì˜ ì¡°ê±´ì„ ì˜ë¯¸í•œë‹¤.<br>  

ğŸ§© support, confidence ë¼ëŠ” ê°œë…ì„ ì•Œì•„ë³´ì•˜ë‹¤. ì´ì œëŠ” Association Rule Miningì„ ì•Œì•„ë³´ë„ë¡ í•˜ìğŸ™„.<br>  

* * *

ğŸ§© <a>Association Rule Mining</a> ì—ì„œëŠ” ë‘ ê°œì˜ ì„ê³„ì¹˜ë¥¼ ì‚¬ìš©í•œë‹¤. ì•„ê¹Œ ì‚¬ìš©í–ˆë˜ <a>minsup</a>ê³¼ confidenceì— ëŒ€í•œ ì„ê³„ì¹˜ì¸ <a>minconf</a> ì´ë‹¤. ê·¸ ëª©ì ì€ minsupê³¼ minconfë¥¼ ë§Œì¡±í•˜ëŠ” ì—°ê´€ì„±ì„ íŒŒì•…í•˜ëŠ” ê²ƒì´ë©°, ìµœì¢…ì ìœ¼ë¡œ ê·¸ ì—°ê´€ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ëª¨ë“  ruleì„ ì°¾ì•„ì•¼ í•œë‹¤.<br>  

ğŸ“ <b>Association Rule Mining</b><br>  

- ë‘ ê°œì˜ ì„ê³„ì¹˜ : minsup, minconf ì‚¬ìš©  
- í•¨ê»˜ ë“±ì¥í•˜ëŠ” itemset ê°„ì˜ ì—°ê´€ì„±ì„ íŒŒì•…í•´ì•¼ í•˜ë¯€ë¡œ 2-itemsetì´ ì¡´ì¬í•´ì•¼ í•œë‹¤.<br>  

- Find all rules : $X\rightarrow{Y}(s,c)\;\;that\;\;s\geq{minsup}\;\;and\;\;c\geq{minconf}$<br>  
  
* * *  


ğŸ§© ìœ„ì—ì„œ ì‚¬ìš©í•œ Transaction Dataë¥¼ ê°€ì§€ê³  Association Ruleì„ ì°¾ì•„ë³´ì.<br>  

<p align="center"><img src="https://user-images.githubusercontent.com/65170165/183826511-6b6a3a7b-a6e2-430e-8a6f-5f9537bfe4e6.png" width="700" /></p>  

ğŸ“Œ ìš°ì„  minsupì„ ë§Œì¡±í•˜ëŠ” itemsetì„ ë¨¼ì € ì°¾ì•„ë³´ë„ë¡ í•˜ì.<br>  

<center>$Let\;\,minsup\;\;Ïƒ=50\%$</center><br>  
<center>$s\{Beer\}=60\%\;\;\;,\;\;\;s\{Nuts\}=60\%$</center><br>  
<center>$s\{Diapper\}=80\%\;\;\;,\;\;\;s\{Eggs\}=60\%$</center><br>  
<center>$s\{Milk\}=40\%\;\;\;,\;\;\;s\{Beer,Diapper\}=60\%\;\;\;,\;\;\;s\{Nuts,Diapper\}=40\%$</center><br>  

ğŸ“Œ ì´ë•Œ $minsup = 50\%$ ì´ìƒì¸ itemsetì€ {Beer} {Nuts} {Diapper} {Eggs} {Beer,Diapper} ì´ë‹¤.<br>  

* * *

ğŸ“Œ minsupì„ ë§Œì¡±í•˜ëŠ” itemsetì„ ì°¾ì•˜ìœ¼ë‹ˆ ì´ë²ˆì—ëŠ” minconfë¥¼ ë§Œì¡±í•˜ëŠ” itemsetì„ ì°¾ì•„ì•¼ í•œë‹¤. ë‘ ì„ê³„ì¹˜ë¥¼ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ê²½ìš°ê°€ ìš°ë¦¬ê°€ ì°¾ëŠ” ruleì´ê¸° ë•Œë¬¸ì—, ìœ„ì—ì„œ ì°¾ì€ itemsetì—ì„œ confidenceë¥¼ ê³„ì‚°í•˜ë©´ ëœë‹¤.<br>  

<center>$Let\;\,minconf\;\;Ïƒ=50\%$</center><br>
<center>$Beer\rightarrow{Diapper} : c=sup(Beer\cup{Diapper})/sup(Beer)=3/3=1$</center><br>  
<center>$Diapper\rightarrow{Beer} : c=sup(Beer\cup{Diapper})/sup(Diapper)=3/4=0.75$</center><br>  

ğŸ“Œ ì´ë ‡ê²Œ êµ¬í•œ supportì™€ confidenceë¡œ Association Ruleì„ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.<br>  

<center>$Beer\rightarrow{Diapper}(s,c)=(60\%,100\%)$</center><br>  
<center>$Diapper\rightarrow{Beer}(s,c)=(60\%,75\%)$</center><br>  

* * *

ğŸ“Œ $Beer$ê°€ ì„ í–‰ì¡°ê±´ì¸ ê²½ìš°ì™€ $Diapper$ê°€ ì„ í–‰ì¡°ê±´ì¸ ê²½ìš° ëª¨ë‘ minconfë¥¼ ë§Œì¡±í•˜ê¸° ë•Œë¬¸ì—, ìœ„ì˜ Transaction Dataì—ì„œ Association Ruleì€ ë‹¤ìŒê³¼ ê°™ì´ ì¡´ì¬í•œë‹¤.  

<center>$Beer\rightarrow{Diapper}\;\;\;\;\;and\;\;\;\;\;Diapper\rightarrow{Beer}$</center><br>  
  

## 3. Summary  
  
ğŸ§© ì´ë ‡ê²Œ í•´ì„œ<br>  

- itemset  
- absolute-support  
- relative-support  
- Frequent Itemsets  
- Confidence  
- Association Rule Mining<br>  

ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ë‹¤.  

ğŸ§© ê²°ë¡ ì ìœ¼ë¡œ <a>Transaction Data</a> ì˜ <a>K-itemset</a> ìœ¼ë¡œë¶€í„° <a>support</a> ì™€ <a>confidence</a> ë¥¼ êµ¬í•˜ê³ , ê·¸ ê°’ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ <a>Association Rule Mining</a> ì„ ë§Œì¡±í•˜ëŠ” ruleì„ ì°¾ëŠ” ê²ƒì´ ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì˜ ëª©ì ì´ë¼ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ì˜¤ëŠ˜ ì„¤ëª…ì„ ìœ„í•´ ì‚¬ìš©í•œ ì˜ˆì œëŠ” 2-itemsetì´ ìµœëŒ€ì¸ ê²½ìš°ì˜€ê¸° ë•Œë¬¸ì—, ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” frequent patternì´ ë„ˆë¬´ ë§ì€ ê²½ìš°ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ìğŸƒâ€â™‚ï¸ğŸƒâ€â™‚ï¸.  


ğŸ§© ì „ì²˜ë¦¬ë‚˜ Classification, Clusteringì€ í‰ì†Œì— ê³µë¶€í•˜ë©´ì„œ ì–´ëŠì •ë„ ìµìˆ™í•œ ëŠë‚Œì´ ìˆì—ˆëŠ”ë°, íŒ¨í„´ë¶„ì„ì€ ì§€ë‚œ í•™ê¸°ì— ì™„ì „ ì²˜ìŒ ë°°ìš´ ë‚´ìš©ì´ì—ˆê³  ì˜¤ëœë§Œì— ê³µë¶€í•˜ë‹¤ ë³´ë‹ˆ ë§ì´ í—·ê°ˆë ¸ë˜ ê²ƒ ê°™ë‹¤. ì™„ì „íˆ ìƒˆë¡œ ë°°ìš°ëŠ”(...ğŸ˜¨) ëŠë‚Œì´ ë‚˜ì„œ í¬ìŠ¤íŒ…í•˜ëŠ” ë°ì— ì •ë§ ë§ì€ ì‹œê°„ì´ ê±¸ë ¸ì§€ë§Œ, ì´ë ‡ê²Œ ì •ë¦¬í•˜ê³  ë‚˜ë‹ˆ ê·¸ë˜ë„ ì–´ëŠ ì •ë„ ì •ë¦¬ë˜ëŠ” ê²ƒ ê°™ì•„ ì¢‹ì•˜ë‹¤. ì•ìœ¼ë¡œì˜ íŒ¨í„´ë¶„ì„ ë‚´ìš©ì´ ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£¬ ê°œë³¸ì ì¸ ê°œë…ì„ ë°”íƒ•ìœ¼ë¡œ ì§„í–‰ë˜ê¸° ë•Œë¬¸ì— ë‚˜ë¦„ ê¼¼ê¼¼í•˜ê²Œ ì •ë¦¬í–ˆëŠ”ë° ì–´ë–¨ì§€ ëª¨ë¥´ê² ë‹¤. ì•„ë¬´ìª¼ë¡ ë„ì›€ì´ ë˜ë©´ ì¢‹ê² ë‹¤ã…ã…ğŸ™‚ğŸ™‚.  

* * *  

<div style="text-align: left">ğŸ’¡ìœ„ í¬ìŠ¤íŒ…ì€ í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ë°”ì´ì˜¤ë©”ë””ì»¬ê³µí•™ë¶€ ê³ ìœ¤í¬ êµìˆ˜ë‹˜ì˜ [ìƒëª…ì •ë³´í•™ì„ ìœ„í•œ ë°ì´í„°ë§ˆì´ë‹] ê°•ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•¨ì„ ë°í™ë‹ˆë‹¤.</div>
