# 2022-1 í•™ê¸° ë°ì´í„°ë§ˆì´ë‹ í”„ë¡œì íŠ¸_(4)  

ğŸ ì €ë²ˆ ê¸€ì—ì„œ ë°ì´í„°ë¥¼ ìµœì¢…ì ìœ¼ë¡œ ì „ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì„ ë‹¤ë¤˜ë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ë ‡ê²Œ ì „ì²˜ë¦¬ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒê´€ê´€ê³„ ì¦‰ correlationì„ ë¶„ì„í•´ë³¼ ê²ƒì´ë‹¤.<br>  

ğŸ ì´ ê¸€ì„ ì‹œì‘ìœ¼ë¡œ ë°ì´í„°ì˜ ê° attribute ê°„ì˜ ì—°ê´€ê´€ê³„ë¥¼ ë¶„ì„í•´ë³¼ ìƒê°ì´ë‹¤. ì–´ì©Œë©´ ë°ì´í„°ë§ˆì´ë‹ ì‹œê°„ì— ê°€ì¥ ë¹„ì¤‘ìˆê²Œ ë‹¤ë£¬ ë‚´ìš©ë“¤ì¸ ë§Œí¼ ë§ì€ ë‚´ìš©ì„ ë‹¤ë£° ê²ƒì´ë‹¤.<br>  

***  

## 1. Preprocessing ëœ cardio ë°ì´í„° ì„í¬íŠ¸  

ğŸ ë¨¼ì € ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ì „ì²˜ë¦¬í•œ ì½”ë“œë¥¼ ì •ë¦¬í•´ë³´ì•˜ë‹¤. ê°„ë‹¨í•˜ê²Œ ì‚´í´ë³´ì.  

```py  
# ë°ì´í„° ì„í¬íŠ¸ ë° ì „ì²˜ë¦¬ë¥¼ ìœ„í•œ pandas / numpy library ì„í¬íŠ¸
import pandas as pd
import numpy as np

cardio = pd.read_csv('C:\\Users\mingu\Desktop\\cardio_train.csv', sep=';')

# dayê¸°ì¤€ ageë¥¼ year ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜ : 365ë¡œ ë‚˜ëˆ„ê³  ì†Œìˆ˜ì  ì²«ì§¸ìë¦¬ì—ì„œ ë°˜ì˜¬ë¦¼
cardio['age'] = cardio['age'] / 365
cardio['age'] = round(cardio['age'], 0).astype('int64').copy()

# BMI attribute ìƒì„±
cardio['height'] = cardio['height'] / 100
cardio['BMI'] = cardio['weight'] / (cardio['height']**2)
cardio['BMI'] = round(cardio['BMI'], 2).copy()

# id, height, weight attribute ì‚­ì œ
cardio = cardio.drop(['id','height','weight'], axis = 1)

# ìˆ˜ì¶•ê¸°í˜ˆì••ì´ ì´ì™„ê¸°í˜ˆì••ë³´ë‹¤ ë‚®ì€ row ì‚­ì œ
low_drop_index = cardio[(cardio['ap_hi'] < cardio['ap_lo'])].index
cardio = cardio.drop(low_drop_index).copy()

# 90mmHg ì´í•˜, 200mmHg ì´ìƒì˜ Ap_hi í˜ˆì•• ì œê±°
drop_index_sys = cardio[(cardio['ap_hi'] < 90) | (cardio['ap_hi'] > 170)].index
cardio = cardio.drop(drop_index_sys).copy()

# 60mmHg ì´í•˜, 140mmHg ì´ìƒì˜ Ap_lo í˜ˆì•• ì œê±°
drop_index_dias = cardio[(cardio['ap_lo'] < 65) | (cardio['ap_lo'] > 105)].index
cardio = cardio.drop(drop_index_dias).copy()

cardio  
```  

<p align="center"><img src="https://user-images.githubusercontent.com/65170165/187910972-0200d35a-827d-46e5-90d6-a2c89a466825.png" width="800" /></p>  

***  

## 2. Correlation Analysis  

ğŸ correlation ë¶„ì„ì„ ìœ„í•´ì„œ .corr() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ì´ë•Œ ê·¸ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ê¸° ìœ„í•´ì„œëŠ” íŒŒì´ì¬ì˜ seaborn ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ë‹¤. ë”°ë¼ì„œ ì´ ì¹œêµ¬ë¶€í„° ì„í¬íŠ¸í•  ê²ƒì´ë‹¤. correlation ë¶„ì„ì´ë¼ê³  í•´ì„œ ì½”ë“œê°€ ê¸´ ê²ƒì´ ì•„ë‹ˆë‹¤. í•¨ìˆ˜ í•˜ë‚˜ë§Œ ê°€ì§€ê³ ë„ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê° attributeì˜ ì—°ê´€ê´€ê³„ë¥¼ ì‰½ê²Œ ì•Œ ìˆ˜ ìˆë‹¤.<br>  

```py  
# ì‹œê°í™”ë¥¼ ìœ„í•œ seaborn ì„í¬íŠ¸
import seaborn as sns 

plt.figure(figsize = (20,12))
ax = sns.heatmap(cardio.corr(), annot=True, annot_kws=dict(color='r'), cmap='Greens')
plt.show()
```  

<p align="center"><img src="https://user-images.githubusercontent.com/65170165/188629142-6c997619-4cc3-4d80-a05a-9d65db273145.png" width="1000" /></p><br>  

ğŸ“Œ .corr()ì„ ì‚¬ìš©í•œ attribute ê°„ì˜ ìƒê´€ê´€ê³„ ë¶„ì„  
ğŸ“Œ seaborn ëª¨ë“ˆì„ í†µí•´ ì‹œê°í™”  
ğŸ“Œ targetì´ cardio attributeì´ë¯€ë¡œ ë‹¤ë¥¸ featureë“¤ê³¼ cardio ì‚¬ì´ì˜ ìƒê´€ê´€ê³„ë¥¼ ë¶„ì„<br>  

***  

ğŸ correlation ê²°ê³¼  

  - age & cardio : 0.23  
  - gender & cardio : -0.0022  
  - ap_hi & cardio : 0.43  
  - ap_lo & cardio : 0.34  
  - cholesterol & cardio : 0.22  
  - gluc & cardio : 0.086  
  - smoke & cardio : -0.019  
  - alco & cardio : -0.011  
  - active & cardio : -0.037  
  - BMI & cardio : 0.15<br>  
***  

  
ğŸ cardioì™€ attributeê°„ì˜ ìƒê´€ê´€ê³„ ë¶€í˜¸  

  - (+) : age, ap_hi, ap_lo, cholesterol, gluc, BMI  
  - (-) : gender, smoke, alco, active<br>  
    
***  

ğŸ cholesterolê³¼ glucoseê°€ ì„œë¡œ ë†’ì€ ìƒê´€ê´€ê³„(0.45)ë¥¼ ê°€ì§€ê³ , ap_hi, ap_lo ì—­ì‹œ ìƒë‹¹íˆ ë†’ì€ ìƒê´€ê´€ê³„(0.71)ë¥¼ ë³´ì—¬ì¤€ë‹¤.  

  - ì¼ë°˜ì ì¸ ìƒê°ìœ¼ë¡œëŠ” cholesterolê³¼ glucose, ê·¸ë¦¬ê³  í˜ˆì••ì´ ì„œë¡œ í° ìƒê´€ê´€ê³„ê°€ ìˆì„ ê²ƒì´ì§€ë§Œ, ì´ ë°ì´í„°ëŠ” ê·¸ë ‡ê²Œ í° ìˆ˜ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ì§€ëŠ” ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br>  
      
ğŸ Correlation ê²°ê³¼ ìƒê´€ê´€ê³„ì˜ ì ˆëŒ“ê°’ì´ ì»¤ì„œ ë¬´ì‹œí•˜ì§€ ëª»í•  ë§Œí•œ attributeëŠ” [age, ap_hi, ap_lo, cholesterol] ì´ë‹¤.  
***
